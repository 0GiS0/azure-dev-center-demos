$schema: "1.0"
name: "dba-customization"
image: microsoftvisualstudio_windowsplustools_base-win11-gen2
description: "This definition is for the dba environment"

tasks:

  - name: ~/winget
    description: Install Visual Studio Code
    parameters:
      package:  Microsoft.VisualStudioCode

  - name: powershell
    parameters:
      command: |
        $env:Path = [System.Environment]::GetEnvironmentVariable('Path','Machine') + ';' + [System.Environment]::GetEnvironmentVariable('Path','User')

  - name: tasks-catalog/choco
    parameters:
      package: sql-server-management-studio

userTasks:
    - name: ~/winget
      parameters:
        package: Microsoft.SQLServer.2022.Developer 

    - name: powershell
      parameters:
        command: |
          code --install-extension github.copilot;
          code --install-extension github.copilot-chat;
          code --install-extension github.vscode-pull-request-github;
          code --install-extension ms-mssql.mssql;


    # - name: tasks-catalog/attach-database
    #   parameters:
    #     folder: C:\Databases
   